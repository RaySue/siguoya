//åœ¨ä¸€ä¸ªæ•°ç»„ nums ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼šnums = [3,4,3,3]
//è¾“å‡ºï¼š4
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šnums = [9,1,7,9,7,9,7]
//è¾“å‡ºï¼š1 
//
// 
//
// é™åˆ¶ï¼š 
//
// 
// 1 <= nums.length <= 10000 
// 1 <= nums[i] < 2^31 
// 
//
// 
// ğŸ‘ 104 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution
{
public:

    // ä¸€åˆ· 2021.01.07
    // é¢è¯•çš„æ—¶å€™å¦‚æœæ²¡æœ‰è¦æ±‚ç©ºé—´å¤æ‚åº¦ï¼Œé‚£å°±å…ˆç»™å‡º hash map çš„è§£æ³•
    // Complexity:
    // Time: O(N)
    // Space: O(N)

    // å¦‚æœè¦æ±‚æ—¶é—´å¤æ‚åº¦ï¼Œå†ä½¿ç”¨ ä½è¿ç®—

    // åˆ©ç”¨ä½è¿ç®—çš„æ€è·¯ï¼š
    /**
        1. æ ¹æ®é¢˜æ„æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºè¿™ä¹ˆä¸€ä¸ªè§„å¾‹ï¼šå‡è®¾ä¸å­˜åœ¨è¿™ä¸ª single numberï¼Œ
        é‚£ä¹ˆ nums ä¸­æ‰€æœ‰å…ƒç´ çš„äºŒè¿›åˆ¶å½¢å¼åŠ èµ·æ¥ä¹‹åï¼Œæ¯ä¸€ä½å¿…ç„¶éƒ½å¯ä»¥è¢« 3 æ•´é™¤ã€‚
        å› ä¸ºæ¯ä¸ªæ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ï¼Œé‚£ä¹ˆå®ƒä»¬çš„äºŒè¿›åˆ¶å½¢å¼æ¯ä¸€ä½ä¹Ÿéƒ½å‡ºç°äº†ä¸‰æ¬¡ï¼Œé‚£åŠ èµ·æ¥ä¹‹åæ¯ä¸€ä½å½“ç„¶å¯ä»¥è¢« 3 æ•´é™¤äº†ã€‚

        2. ç°åœ¨åŠ ä¸Šè¿™ä¸ª single numberï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æƒ³åˆ°ï¼šåŒæ ·æŠŠ nums ä¸­æ‰€æœ‰å…ƒç´ çš„äºŒè¿›åˆ¶å½¢å¼åŠ èµ·æ¥ï¼Œè¿™æ—¶å€™å°±ä¸æ˜¯æ¯ä¸€ä½éƒ½èƒ½è¢« 3 æ•´é™¤äº†ï¼Œ
        å› ä¸ºæ··å…¥äº†ä¸€ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çœ‹åŠ èµ·æ¥ä¹‹åçš„å’Œçš„å“ªä¸€ä½ä¸èƒ½è¢« 3 æ•´é™¤ï¼Œ
        å°±è¯´æ˜è¿™ä¸ª single number çš„äºŒè¿›åˆ¶å½¢å¼åœ¨è¿™ä¸€ä½æ˜¯ 1ã€‚ç„¶åæŠŠè¿™äº› single number æ˜¯ 1 çš„ä½è½¬æ¢æˆåè¿›åˆ¶å†åŠ èµ·æ¥ï¼Œå°±æ˜¯ single number çš„åè¿›åˆ¶å½¢å¼äº†ã€‚

        3. ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ single number = 1ï¼Œç„¶å nums ä¸­æ‰€æœ‰å…ƒç´ çš„äºŒè¿›åˆ¶å½¢å¼åŠ èµ·æ¥ä¹‹åç­‰äº 3334ï¼ˆå³ 3333 + 1 = 3334ï¼‰ã€‚
        é‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“ï¼Œ4 è¿™ä¸€ä½ä¸èƒ½è¢« 3 æ•´é™¤ï¼Œè¯´æ˜ single number åœ¨ä»å³å¾€å·¦ç¬¬ä¸€ä½æ˜¯ 1ã€‚
        ç„¶åå› ä¸ºå‰©ä¸‹çš„å…¨éƒ½èƒ½è¢« 3 æ•´é™¤ï¼Œæ‰€ä»¥ single number åœ¨å‰©ä¸‹çš„ä½ä¸Šéƒ½æ˜¯ 0ã€‚ç”±æ­¤å¯å¾— single number = 0001 = 1ã€‚
     */
    // Complexity:

    // ä¸­é—´è¿‡æ¸¡æ–¹æ³• åˆ©ç”¨ vector<int> binary(32);
    int singleNumber1(vector<int> &nums)
    {
        vector<int> binary(32);

        // å¯¹æ¯ä¸ªæ•°å­—è®¡ç®—å…¶åœ¨ 32 ä½ä¸Šçš„ç´¯åŠ 
        for(int i = 0; i < nums.size(); ++i)
        {
            for (int j = 0; j < 32; ++j)
            {
                // ä½è¿ç®—çš„ä¼˜å…ˆçº§ å°äº æ¯”è¾ƒè¿ç®—
                if ((nums[i] & (1 << j)) != 0)
                {
                    binary[j]++;
                }
            }
        }
        int ret = 0;
        for (int i = 0; i < 32; ++i)
        {
            if (binary[i] % 3 != 0)
            {
                ret += (1 << i);
            }
        }
        return ret;
    }

    // æœ€ç»ˆçš„è§£æ³•
    // Time: O(N)
    // Space: O(1)
    int singleNumber(vector<int> &nums)
    {
        int ret = 0;
        for (int i = 0; i < 32; ++i)
        {
            int count = 0;
            int p =  (1 << i);
            for (int n: nums)
            {
                if ((n & p) != 0)
                {
                    count ++;
                }
            }
            if (count % 3 != 0)  // è¿™æœ‰å‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œåœ¨è¿™ä¸€ä½æ‰ä¸ä¼šæ•´é™¤ 3
            {
                ret += p;
            }
        }
        return ret;
    }


};
//leetcode submit region end(Prohibit modification and deletion)
