// æ’å…¥ã€‚ç»™å®šä¸¤ä¸ª32ä½çš„æ•´æ•°Nä¸ŽMï¼Œä»¥åŠè¡¨ç¤ºæ¯”ç‰¹ä½ç½®çš„i ä¸Ž jã€‚ç¼–å†™ä¸€ç§æ–¹æ³•ï¼Œ
// å°†Mæ’å…¥Nï¼Œä½¿å¾—Mä»ŽNçš„ç¬¬jä½å¼€å§‹ï¼Œåˆ°ç¬¬iä½ç»“æŸã€‚å‡å®šä»Žjä½åˆ°iä½è¶³ä»¥å®¹çº³Mï¼Œä¹Ÿå³
// è‹¥M = 10011ï¼Œé‚£ä¹ˆjå’Œiä¹‹é—´è‡³å°‘å¯å®¹çº³5ä¸ªä½ã€‚
// ä¾‹å¦‚ï¼Œä¸å¯èƒ½å‡ºçŽ°j = 3 å’Œ i = 2çš„æƒ…å†µï¼Œå› ä¸ºç¬¬3ä½å’Œç¬¬2ä½ä¹‹é—´æ”¾ä¸ä¸‹Mã€‚
//
// ç¤ºä¾‹1: 
//
//  è¾“å…¥ï¼šN = 1024(10000000000), M = 19(10011), i = 2, j = 6
//  è¾“å‡ºï¼šN = 1100(10001001100)
//
//        1000 01010 00
//             10011
//        0000 00000 11
//        0000 11111 11
//        0000 11111 00
//        1111 00000 11
//        1000 00000 00
// ç¤ºä¾‹2:
//
//  è¾“å…¥ï¼š N = 0, M = 31(11111), i = 0, j = 4
// è¾“å‡ºï¼šN = 31(11111)
// 
// Related Topics ä½è¿ç®— 
// ðŸ‘ 21 ðŸ‘Ž 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution
{
public:

    // æ€è·¯ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆæˆ‘å†™çš„ä»£ç åƒä¸€å¨å±Žï¼Œè€Œä¸”è¿˜é€šè¿‡ä¸äº†
    // 2020.12.30, å¦‚æžœä½ çš„æ‰€æœ‰ä»£ç éƒ½å†™çš„æ˜¯æœ€å·¥æ•´ï¼Œæœ€æ¼‚äº®çš„ï¼Œé‚£ä½ è¿˜åˆ·é¢˜å¹²å˜›ï¼Ÿ
    int insertBits(int N, int M, int i, int j)
    {
        int low = 1;
        while (i > 0)
        {
            low = (low << 1);
            M = (M << 1);
            i--;
        }
        low -= 1;

        int high = 1;
        if (j == 31)
        {
            high = INT_MAX;
        } else
        {
            while (j >= 0)
            {
                high = (high << 1);
                j--;
            }
            high -= 1;
        }
        high -= low;
        high = ~high;
        N &= high;
        return M + N;
    }


    // ä¸€åˆ· 2020.12.30
    // æ€è·¯å¯ä»¥ç®€å•ï¼Œä¹Ÿå¯ä»¥å¤æ‚
    // start
    // å…ˆå°† N å¯¹åº”çš„i åˆ° j é“²æŽ‰ ç½®0
    // ç„¶åŽå°†M å·¦ç§»iä½ åŠ åˆ° N
    // end
    int insertBits(int N, int M, int i, int j)
    {
        for (int k = i; k <= j; k++)
        {
            if (N & (1 << k))
            {
                N -= (1 << k);
            }
        }
        N += (M << i);
        return N;
    }
};
//leetcode submit region end(Prohibit modification and deletion)
